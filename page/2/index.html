<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>gca的学习录</title><meta name="keywords" content="博客"><meta name="author" content="gca"><meta name="copyright" content="gca"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="gca的学习录，欢迎访问！">
<meta property="og:type" content="website">
<meta property="og:title" content="gca的学习录">
<meta property="og:url" content="https://fireonice.github.io/page/2/index.html">
<meta property="og:site_name" content="gca的学习录">
<meta property="og:description" content="gca的学习录，欢迎访问！">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://fireonice.github.io/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220330224517.jpg">
<meta property="article:author" content="gca">
<meta property="article:tag" content="博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://fireonice.github.io/img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220330224517.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://fireonice.github.io/page/2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'gca的学习录',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-04-20 09:12:34'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="./css/iconfont.css"><link rel="stylesheet" href="./css/card_botui.css"><link rel="stylesheet" href="./css/index.css"><link rel="stylesheet" href="./css/Lete.css"><link rel="stylesheet" href="./css/var.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"><meta name="generator" content="Hexo 6.0.0"><link rel="alternate" href="/atom.xml" title="gca的学习录" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220330224517.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">40</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://cdn.jsdelivr.net/gh/zhangc233/pic@master/img/%E5%8A%A8%E6%BC%AB5.jpeg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">gca的学习录</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">gca的学习录</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/fireonice" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1637872839@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/fireonice.github.io" target="_blank" title="博客"><i class="fab fa-algolia"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/03/15/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91-%E5%85%B1%E4%BA%AB%E6%A8%A1%E5%9E%8B%E4%B9%8B%E6%97%A0%E9%94%81%E3%80%81%E4%B8%8D%E5%8F%AF%E5%8F%98/" title="多线程与高并发——共享模型之无锁、不可变-CAS&amp;享元模式"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/fireonice/picgo/img/image-20220315224104497.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="多线程与高并发——共享模型之无锁、不可变-CAS&amp;享元模式"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/15/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91-%E5%85%B1%E4%BA%AB%E6%A8%A1%E5%9E%8B%E4%B9%8B%E6%97%A0%E9%94%81%E3%80%81%E4%B8%8D%E5%8F%AF%E5%8F%98/" title="多线程与高并发——共享模型之无锁、不可变-CAS&amp;享元模式">多线程与高并发——共享模型之无锁、不可变-CAS&amp;享元模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-15T14:22:11.065Z" title="发表于 2022-03-15 22:22:11">2022-03-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/">多线程与高并发</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/">多线程与高并发</a></span></div><div class="content">共享模型之无锁123456789+ 问题提出    + 保护共享资源        + 加锁实现            + synchronize、reentrantlock        + 无锁实现            + AtomicInteger：原子整数                + int封装            + compareAndSet(prev,next)                + 修改成功为true

CAS与volatilecas

123456789101112131415161718192021+ cas与volatile    + 工作方式        + cas原子        + CAS就是JAVA里唯一的乐观锁了...        + 保证了CAS原子性    + 慢动作分析    + volatile        + 保证了变量的可见性            + 保证获取新值比较    + 效率分析        + 无锁始终运行，有锁会上下文切换            + runnable——&gt;blocked    ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/03/15/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91-%E5%85%B1%E4%BA%AB%E6%A8%A1%E5%9E%8B%E4%B9%8B%E5%86%85%E5%AD%98-JMM&amp;%E6%8C%87%E4%BB%A4%E9%87%8D%E6%8E%92&amp;Volatile&amp;DCL/" title="多线程与高并发——共享模型之内存-JMM&amp;Volatile&amp;DCL"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/fireonice/picgo/img/image-20220315130549217.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="多线程与高并发——共享模型之内存-JMM&amp;Volatile&amp;DCL"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/15/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91-%E5%85%B1%E4%BA%AB%E6%A8%A1%E5%9E%8B%E4%B9%8B%E5%86%85%E5%AD%98-JMM&amp;%E6%8C%87%E4%BB%A4%E9%87%8D%E6%8E%92&amp;Volatile&amp;DCL/" title="多线程与高并发——共享模型之内存-JMM&amp;Volatile&amp;DCL">多线程与高并发——共享模型之内存-JMM&amp;Volatile&amp;DCL</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-15T04:48:12.927Z" title="发表于 2022-03-15 12:48:12">2022-03-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/">多线程与高并发</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/">多线程与高并发</a></span></div><div class="content">共享模型之内存Java内存模型-JMMJMM 即 Java Memory Model，它定义了主存、工作内存抽象概念，底层对应着 CPU 寄存器、缓存、硬件内存、CPU 指令优化等。
JMM 体现在以下几个方面

原子性 - 保证指令不会受到线程上下文切换的影响
可见性 - 保证指令不会受 cpu 缓存的影响
有序性 - 保证指令不会受 cpu 指令并行优化的影响

可见性
可见性

一个线程对主存数据修改，对于另外一个线程不可见

问题

初始状态，t线程从主存读取run到工作内存
因为t要频繁从主内存读取run
JIT编译器将run的值存储在工作内存中，减少对主存run的访问
CPU高速缓存




主线程修改run的值，同步到主存
t一直从高速缓存中读




解决

加上volatile修饰：易变


只能修饰成员、静态成员变量
必须从主存获取值




加上synchronize解决

在Java内存模型中，synchronized规定，线程在加锁时， 先清空工作内存→在主内存中拷贝最新变量的副本到工作内存 →执行完代码→将更改后的共享变量的值刷新到主内存中→释放互斥锁。

 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/03/14/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91-%E5%85%B1%E4%BA%AB%E6%A8%A1%E5%9E%8B%E4%B9%8B%E7%AE%A1%E7%A8%8B-Monitor&amp;ReentrantLock/" title="多线程与高并发——共享模型之管程-Monitor&amp;ReentrantLock"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/fireonice/picgo/img/image-20220314234813808.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="多线程与高并发——共享模型之管程-Monitor&amp;ReentrantLock"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/14/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91-%E5%85%B1%E4%BA%AB%E6%A8%A1%E5%9E%8B%E4%B9%8B%E7%AE%A1%E7%A8%8B-Monitor&amp;ReentrantLock/" title="多线程与高并发——共享模型之管程-Monitor&amp;ReentrantLock">多线程与高并发——共享模型之管程-Monitor&amp;ReentrantLock</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-14T15:13:13.383Z" title="发表于 2022-03-14 23:13:13">2022-03-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/">多线程与高并发</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/">多线程与高并发</a></span></div><div class="content">共享模型之管程共享带来的问题上下文切换问题

123456789101112131415161718192021222324252627282930313233343536373839404142434445+ 共享带来的问题+ 上下文切换分析    + 单线程    + 多线程情况        + 线程的 cpu 时间片用完 -&gt; 线程挂起，运行到就绪 -&gt; 线程上下文切换 -&gt; 字节码指令交错运行 -&gt; 共享变量counter读写冲突    + 根源：指令交错+ 临界区与竞态条件    + 临界区        + 存在对共享资源的多线程读写区域    + 竞态条件        + 结果无法预测+ 避免竞态条件    + 非阻塞式        + 原子变量    + 阻塞式        + synchronize、lock+ synchronize    + 对象锁        + 临界区代码变成串行        + 对象，多个线程共享    + 理解        + 比喻            + synchronize中即使时间片用完，下次 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/03/14/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91-%E7%BA%BF%E7%A8%8B%E5%8E%9F%E7%90%86&amp;%E6%A0%88%E5%B8%A7&amp;%E4%B8%A4%E9%98%B6%E6%AE%B5%E7%BB%88%E6%AD%A2%E6%A8%A1%E5%BC%8F/" title="多线程与高并发——线程原理&amp;栈帧&amp;两阶段终止模式"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/fireonice/picgo/img/image-20220314230549515.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="多线程与高并发——线程原理&amp;栈帧&amp;两阶段终止模式"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/14/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91-%E7%BA%BF%E7%A8%8B%E5%8E%9F%E7%90%86&amp;%E6%A0%88%E5%B8%A7&amp;%E4%B8%A4%E9%98%B6%E6%AE%B5%E7%BB%88%E6%AD%A2%E6%A8%A1%E5%BC%8F/" title="多线程与高并发——线程原理&amp;栈帧&amp;两阶段终止模式">多线程与高并发——线程原理&amp;栈帧&amp;两阶段终止模式</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-14T14:24:34.325Z" title="发表于 2022-03-14 22:24:34">2022-03-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/">多线程与高并发</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/">多线程与高并发</a></span></div><div class="content">进程与线程进程与线程123456789101112131415+ 进程    + 加载指令、管理内存、管理io    + 程序的一个实例    + java中资源分配的最小单位+ 线程    + 一个指令流    + 一个进程内多个线程    + java中最小调度单位+ 对比    + 进程基本相互独立，线程存在于进程中    + 进程通信复杂        + 不同计算机进程通信，http协议等    + 线程通信简单        + 共享进程内的内存，数据    + 线程上下文切换成本低

并行并发的概念并发

并行

123456789101112131415并发： 同一时间段，多个任务都在执行 (单位时间内不一定同时执行)并行： 单位时间内，多个任务同时执行+ 并发    + 同一时间线程轮流使用cpu        + concurrent    + 单核cpu下        + 实际串行执行        + cpu时间片轮流执行        + 宏观上并行+ 并行    + 多核cpu下        + 每个核同时调度运行线程+ 并发和并行都有    + 并发： ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/03/12/%E4%BA%91%E5%8E%9F%E7%94%9F%E5%AE%9E%E6%88%98/" title="云原生实战"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/fireonice/picgo/img/image-20220312170342258.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="云原生实战"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/12/%E4%BA%91%E5%8E%9F%E7%94%9F%E5%AE%9E%E6%88%98/" title="云原生实战">云原生实战</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-12T08:08:12.262Z" title="发表于 2022-03-12 16:08:12">2022-03-12</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%BA%A7%E5%93%81/">产品</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%BA%A7%E5%93%81%E5%BC%80%E5%8F%91/">产品开发</a></span></div><div class="content">Docker


容器化相比虚拟化

同一标准

应用无论什么语言同一构建成镜像

镜像分享仓库

容器化时代

虚拟化技术
容器化技术




资源隔离

资源隔离
访问设备隔离
网络隔离
用户隔离






docker架构



操作



镜像操作

docker hub仓库


容器操作

外部操作

内部操作

看镜像仓库官网




打包镜像变化

docker commit


镜像保存

docker save
保存为压缩包文件


镜像加载

docker load
读取压缩包为镜像


镜像推送

login：登录仓库
tag：改名，带上自己的仓库名
push：推送镜像


挂载

保证外部有配置文件
提前cp出来文件


其他命令

docker logs 容器

容器日志


docker cp

容器复制到本地
本地复制到容器




构建应用



以前

springboot打包
jar包上传服务器（环境）
运行jar包


现在

打包镜像，启动即用

编写docker file（如何打包）

from：基础镜像

运行环境


label：作者

 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/03/11/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E-k8s-%E8%87%AA%E5%8A%A8%E5%8C%96cicd&amp;%E6%9C%80%E7%BB%88%E9%83%A8%E7%BD%B2/" title="谷粒商城——k8s-DevOps-CI/CD&amp;最终部署"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/fireonice/picgo/img/cicd-tools-fullsize.jpeg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="谷粒商城——k8s-DevOps-CI/CD&amp;最终部署"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/11/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E-k8s-%E8%87%AA%E5%8A%A8%E5%8C%96cicd&amp;%E6%9C%80%E7%BB%88%E9%83%A8%E7%BD%B2/" title="谷粒商城——k8s-DevOps-CI/CD&amp;最终部署">谷粒商城——k8s-DevOps-CI/CD&amp;最终部署</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-11T04:01:57.157Z" title="发表于 2022-03-11 12:01:57">2022-03-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%BA%A7%E5%93%81/">产品</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%BA%A7%E5%93%81%E5%BC%80%E5%8F%91/">产品开发</a></span></div><div class="content">DevOpsDevOps: Development 和 Operations 的组合

DevOps 看作开发（软件工程）、技术运营和质量保障（QA）三者的交集。
突出重视软件开发人员和运维人员的沟通合作，通过自动化流程来使得软件构建、测试、 发布更加快捷、频繁和可靠。
DevOps 希望做到的是软件产品交付过程中 IT 工具链的打通，使得各个团队减少时间损耗，更加高效地协同工作。DevOps 能力图如下，良好的闭环可以大大增加整体的产出。


CI/CD1、持续集成（Continuous Integration） 
持续集成是指软件个人研发的部分向软件整体部分交付，频繁进行集成以便更快地发现 其中的错误。“持续集成”源自于极限编程（XP），是 XP 最初的 12 种实践之一。
CI 需要具备这些：

全面的自动化测试。这是实践持续集成&amp;持续部署的基础，同时，选择合适的自动化测试工具也极其重要
灵活的基础设施。容器，虚拟机的存在让开发人员和 QA 人员不必再大费周折
版本控制工具。如 Git，CVS，SVN 等
自动化的构建和软件发布流程的工具，如 Jenkins，flow.c ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/03/08/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E-%E4%BA%91%E5%8E%9F%E7%94%9FPaaS%E5%B9%B3%E5%8F%B0Kubesphere/" title="谷粒商城——云原生Pass-Kubesphere&amp;集群搭建"><img class="post_bg" src="https://www.icode9.com/i/ll/?i=20210712161032787.png?,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl8zMjE5Njg5Mw==,size_16,color_FFFFFF,t_70" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="谷粒商城——云原生Pass-Kubesphere&amp;集群搭建"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/08/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E-%E4%BA%91%E5%8E%9F%E7%94%9FPaaS%E5%B9%B3%E5%8F%B0Kubesphere/" title="谷粒商城——云原生Pass-Kubesphere&amp;集群搭建">谷粒商城——云原生Pass-Kubesphere&amp;集群搭建</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-08T06:30:22.132Z" title="发表于 2022-03-08 14:30:22">2022-03-08</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%BA%A7%E5%93%81/">产品</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%BA%A7%E5%93%81%E5%BC%80%E5%8F%91/">产品开发</a></span></div><div class="content">KubesphereKubesphere官网：https://kubesphere.io/zh/
KubeSphere 是一款面向云原生设计的开源项目，在目前主流容器调度平台 Kubernetes 之上构建的分布式多租户容器管理平台，提供简单易用的操作界面以及向导式操作方式，在降低用户使用容器调度平台学习成本的同时，极大降低开发、测试、运维的日常工作的复杂度。
部署1、安装helm（master节点）
2、安装 Tiller（master 执行） 
3、安装 OpenEBS（master 执行）
4、最小化、完整化安装Kubesphere

多租户管理包括集群(Cluster)、企业空间(Workspace)、项目(Project)和DevOps Project(DevOps 工程)的层级关系


架构
集群概述集群的目标

1234567+ 集群目标    + 高可用HA    + 突破数据量限制    	+ 多节点存储    	+ 多节点备份    + 数据备份容灾    + 压力分担


12345678910+ 基础形式	+ 主从		+ 同步：主从复制        + 主从调 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/03/06/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E-%E4%BA%91%E5%8E%9F%E7%94%9F%E6%A0%B8%E5%BF%83-Kubernetes/" title="谷粒商城——云原生核心-Kubernetes"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/fireonice/picgo/img/image-20220306230401741.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="谷粒商城——云原生核心-Kubernetes"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/06/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E-%E4%BA%91%E5%8E%9F%E7%94%9F%E6%A0%B8%E5%BF%83-Kubernetes/" title="谷粒商城——云原生核心-Kubernetes">谷粒商城——云原生核心-Kubernetes</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-06T14:49:41.462Z" title="发表于 2022-03-06 22:49:41">2022-03-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%BA%A7%E5%93%81/">产品</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%BA%A7%E5%93%81%E5%BC%80%E5%8F%91/">产品开发</a></span></div><div class="content">k8s简介Docker只是解决服务下层的问题，服务上层建筑如容器编排，服务发现等问题已经超越了Docker的管辖。
Kubernetes提供的编排和管理功能，轻松完成大规模容器部署，借助k8s的编排功能，用户可以构建跨多个容器的应用服务，实现跨集群调度，扩展容器，以及长期持续管理这些容器的健康状况等，并整合网络，存储，安全性，监控及其他服务，提供全面的容器基础架构。
Kubernetes 满足了一系列产品内运行程序的普通需求，兼具平台即服务（PaaS）的简化和基础架构即服务（IaaS）的灵活，并促进了在平台服务提供商之间的迁移。

微服务微服务解决的是我们软件开发中一直追求的低耦合+高内聚，微服务可以解决这个问题，微服务的本质是把一块大饼分成若干块低耦合的小饼，比如一块小饼专门负责接收外部的数据，一块小饼专门负责响应前台的操作，小饼可以进一步拆分，比如负责接收外部数据的小饼可以继续分成多块负责接收不同类型数据的小饼，这样每个小饼出问题了，其它小饼还能正常对外提供服务。
DevOpsDevOps的意思就是开发和运维不再是分开的两个团队，而是你中有我，我中有你的一个团队。我们现在开发和运维 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/02/28/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E-%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%AF%E4%BB%98&amp;RSA%E5%8A%A0%E5%AF%86&amp;%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" title="谷粒商城——支付宝支付&amp;RSA加密&amp;内网穿透"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/fireonice/picgo/img/image-20220228230726942.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="谷粒商城——支付宝支付&amp;RSA加密&amp;内网穿透"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/02/28/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E-%E6%94%AF%E4%BB%98%E5%AE%9D%E6%94%AF%E4%BB%98&amp;RSA%E5%8A%A0%E5%AF%86&amp;%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" title="谷粒商城——支付宝支付&amp;RSA加密&amp;内网穿透">谷粒商城——支付宝支付&amp;RSA加密&amp;内网穿透</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-28T14:59:05.494Z" title="发表于 2022-02-28 22:59:05">2022-02-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%BA%A7%E5%93%81/">产品</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%BA%A7%E5%93%81%E5%BC%80%E5%8F%91/">产品开发</a></span></div><div class="content">1、支付支付宝&amp;蚂蚁金服开发者平台：
https://open.alipay.com/platform/home.htm
文档地址：
创建应用对应文档 https://openhome.alipay.com/docCenter/docCenter.htm
网页移动应用文档 https://opendocs.alipay.com/open/200/105304
支付宝支付流程
跳转的页面是根据AlipayTemplate定义的回调地址来进行跳转
1234567   // 服务器[异步通知]页面路径  需http://格式的完整路径，不能加?id=123这类自定义参数，必须外网可以正常访问    // 支付宝会悄悄的给我们发送一个请求，告诉我们支付成功的信息    private  String notify_url = &quot;http://member.gulimall.com/memberOrder.html&quot;;// 页面跳转同步通知页面路径 需http://格式的完整路径，不能加?id=123这类自定义参数，必须外网可以正常访问    //同步通知，支付成功， ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/02/28/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E-%E6%9F%94%E6%80%A7%E4%BA%8B%E5%8A%A1-%E5%8F%AF%E9%9D%A0%E6%B6%88%E6%81%AF+%E6%9C%80%E7%BB%88%E4%B8%80%E8%87%B4%E6%80%A7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="谷粒商城——柔性事务-可靠消息+最终一致性解决方案（异步确保型）"><img class="post_bg" src="https://cdn.jsdelivr.net/gh/fireonice/picgo/img/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E6%B5%81%E7%A8%8B.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="谷粒商城——柔性事务-可靠消息+最终一致性解决方案（异步确保型）"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/02/28/%E8%B0%B7%E7%B2%92%E5%95%86%E5%9F%8E-%E6%9F%94%E6%80%A7%E4%BA%8B%E5%8A%A1-%E5%8F%AF%E9%9D%A0%E6%B6%88%E6%81%AF+%E6%9C%80%E7%BB%88%E4%B8%80%E8%87%B4%E6%80%A7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="谷粒商城——柔性事务-可靠消息+最终一致性解决方案（异步确保型）">谷粒商城——柔性事务-可靠消息+最终一致性解决方案（异步确保型）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-02-28T05:57:31.284Z" title="发表于 2022-02-28 13:57:31">2022-02-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%BA%A7%E5%93%81/">产品</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%BA%A7%E5%93%81%E5%BC%80%E5%8F%91/">产品开发</a></span></div><div class="content">柔性事务-可靠消息+最终一致性解决方案（异步确保型）RabbitMQ延时队列（实现定时任务）场景： 
比如未付款订单，超过一定时间后，系统自动取消订单并释放占有物品。 
123456+ 常用解决方案 	+ spring的 schedule 定时任务轮询数据库 + 缺点 	+ 消耗系统内存、增加了数据库的压力、存在较大的时间误差 + 解决	+ rabbitmq的消息TTL和死信Exchange结合

TTL存活时间

DLX死信交换机（Dead Letter Exchanges）


1234+ 模拟延迟场景    + 消息设置30m过期（队列不被监听）    + 30m后进入死信交换机    + 消息进入另一个队列（被监听）

延时队列实现
123456+ 给队列设置消息过期时间(推荐)+ 给消息设置消息过期时间+ rabbitmq懒检查    + 只会检查第一个消息是否过期    + 若后面消息ttl小，仍无法出队列    + 所以给队列设置过期时间

基于MQ可靠消息的一致性解决
监听库存解锁：
1234567+ 解锁场景	+ 未支付场景、手动取消订单	+ 锁定成功，其他业务失败， ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><a class="page-number" href="/page/4/#content-inner">4</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./img/%E5%BE%AE%E4%BF%A1%E5%9B%BE%E7%89%87_20220330224517.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">gca</div><div class="author-info__description">gca的学习录，欢迎访问！</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">40</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">16</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">5</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/fireonice" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1637872839@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="/fireonice.github.io" target="_blank" title="博客"><i class="fab fa-algolia"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">3D 博客，点此进入！<a target="_blank" href="https://fireonice.github.io/fireonice-3D.github.io/"><img src="https://cdn.jsdelivr.net/gh/fireonice/picgo/img/image-20220211111643538.png"></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/04/20/MySQL-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2&amp;%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0&amp;%E5%AD%90%E6%9F%A5%E8%AF%A2/" title="MySQL——多表查询&amp;聚合函数&amp;子查询"><img src="https://gitee.com/namdev/picgo/raw/master/img/202204200911803.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL——多表查询&amp;聚合函数&amp;子查询"/></a><div class="content"><a class="title" href="/2022/04/20/MySQL-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2&amp;%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0&amp;%E5%AD%90%E6%9F%A5%E8%AF%A2/" title="MySQL——多表查询&amp;聚合函数&amp;子查询">MySQL——多表查询&amp;聚合函数&amp;子查询</a><time datetime="2022-04-20T01:09:36.596Z" title="发表于 2022-04-20 09:09:36">2022-04-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/05/%E7%AE%97%E6%B3%95-%E8%B0%B7%E6%AD%8C%E3%80%81%E5%BE%AE%E8%BD%AF%E3%80%81%E4%BA%9A%E9%A9%AC%E9%80%8A%E7%AD%89%E9%9D%A2%E8%AF%95%E9%A2%98/" title="算法——谷歌、微软、亚马逊等面试题"><img src="https://cdn.jsdelivr.net/gh/fireonice/picgo/img/image-20220405185119211.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="算法——谷歌、微软、亚马逊等面试题"/></a><div class="content"><a class="title" href="/2022/04/05/%E7%AE%97%E6%B3%95-%E8%B0%B7%E6%AD%8C%E3%80%81%E5%BE%AE%E8%BD%AF%E3%80%81%E4%BA%9A%E9%A9%AC%E9%80%8A%E7%AD%89%E9%9D%A2%E8%AF%95%E9%A2%98/" title="算法——谷歌、微软、亚马逊等面试题">算法——谷歌、微软、亚马逊等面试题</a><time datetime="2022-04-05T10:34:53.755Z" title="发表于 2022-04-05 18:34:53">2022-04-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/03/%E7%AE%97%E6%B3%95-%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95&amp;%E5%88%86%E6%B2%BB&amp;%E9%80%92%E5%BD%92&amp;%E5%9B%9E%E6%BA%AF&amp;%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" title="算法——贪心算法&amp;分治&amp;递归&amp;回溯&amp;动态规划"><img src="https://cdn.jsdelivr.net/gh/fireonice/picgo/img/image-20220403174233069.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="算法——贪心算法&amp;分治&amp;递归&amp;回溯&amp;动态规划"/></a><div class="content"><a class="title" href="/2022/04/03/%E7%AE%97%E6%B3%95-%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95&amp;%E5%88%86%E6%B2%BB&amp;%E9%80%92%E5%BD%92&amp;%E5%9B%9E%E6%BA%AF&amp;%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" title="算法——贪心算法&amp;分治&amp;递归&amp;回溯&amp;动态规划">算法——贪心算法&amp;分治&amp;递归&amp;回溯&amp;动态规划</a><time datetime="2022-04-03T09:32:35.124Z" title="发表于 2022-04-03 17:32:35">2022-04-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/03/%E7%AE%97%E6%B3%95-%E7%99%BE%E5%BA%A6%E3%80%81%E9%98%BF%E9%87%8C%E3%80%81%E8%85%BE%E8%AE%AF%E3%80%81%E4%BA%AC%E4%B8%9C%E7%AD%89%E9%9D%A2%E8%AF%95%E9%A2%98/" title="算法——百度、阿里、腾讯、京东等面试题"><img src="https://cdn.jsdelivr.net/gh/fireonice/picgo/img/image-20220403171344200.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="算法——百度、阿里、腾讯、京东等面试题"/></a><div class="content"><a class="title" href="/2022/04/03/%E7%AE%97%E6%B3%95-%E7%99%BE%E5%BA%A6%E3%80%81%E9%98%BF%E9%87%8C%E3%80%81%E8%85%BE%E8%AE%AF%E3%80%81%E4%BA%AC%E4%B8%9C%E7%AD%89%E9%9D%A2%E8%AF%95%E9%A2%98/" title="算法——百度、阿里、腾讯、京东等面试题">算法——百度、阿里、腾讯、京东等面试题</a><time datetime="2022-04-03T08:59:15.619Z" title="发表于 2022-04-03 16:59:15">2022-04-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/02/%E7%AE%97%E6%B3%95-%E5%AD%97%E8%8A%82%E3%80%81%E7%BE%8E%E5%9B%A2%E3%80%81%E6%BB%B4%E6%BB%B4%E7%AD%89%E9%9D%A2%E8%AF%95%E9%A2%98/" title="算法——字节、美团、滴滴等面试题"><img src="https://cdn.jsdelivr.net/gh/fireonice/picgo/img/image-20220402134753678.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="算法——字节、美团、滴滴等面试题"/></a><div class="content"><a class="title" href="/2022/04/02/%E7%AE%97%E6%B3%95-%E5%AD%97%E8%8A%82%E3%80%81%E7%BE%8E%E5%9B%A2%E3%80%81%E6%BB%B4%E6%BB%B4%E7%AD%89%E9%9D%A2%E8%AF%95%E9%A2%98/" title="算法——字节、美团、滴滴等面试题">算法——字节、美团、滴滴等面试题</a><time datetime="2022-04-02T05:17:05.011Z" title="发表于 2022-04-02 13:17:05">2022-04-02</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Mysql/"><span class="card-category-list-name">Mysql</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E4%BA%A7%E5%93%81/"><span class="card-category-list-name">产品</span><span class="card-category-list-count">15</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/"><span class="card-category-list-name">多线程与高并发</span><span class="card-category-list-count">6</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%A0%B8%E5%BF%83/"><span class="card-category-list-name">微服务核心</span><span class="card-category-list-count">12</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%AE%97%E6%B3%95/"><span class="card-category-list-name">算法</span><span class="card-category-list-count">6</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/ActiveMQ/" style="font-size: 1.15em; color: rgb(99, 11, 66)">ActiveMQ</a><a href="/tags/Mycat/" style="font-size: 1.15em; color: rgb(46, 145, 34)">Mycat</a><a href="/tags/RabbitMQ/" style="font-size: 1.15em; color: rgb(93, 93, 112)">RabbitMQ</a><a href="/tags/Mysql/" style="font-size: 1.15em; color: rgb(58, 150, 86)">Mysql</a><a href="/tags/Spring-Security/" style="font-size: 1.15em; color: rgb(101, 41, 21)">Spring Security</a><a href="/tags/RocketMQ/" style="font-size: 1.15em; color: rgb(31, 84, 24)">RocketMQ</a><a href="/tags/docker/" style="font-size: 1.15em; color: rgb(33, 109, 41)">docker</a><a href="/tags/SpringCloud-Alibaba/" style="font-size: 1.15em; color: rgb(17, 133, 75)">SpringCloud Alibaba</a><a href="/tags/dubbo/" style="font-size: 1.15em; color: rgb(88, 71, 71)">dubbo</a><a href="/tags/nginx/" style="font-size: 1.15em; color: rgb(9, 20, 118)">nginx</a><a href="/tags/elasticsearch/" style="font-size: 1.15em; color: rgb(61, 182, 137)">elasticsearch</a><a href="/tags/redis/" style="font-size: 1.15em; color: rgb(64, 182, 31)">redis</a><a href="/tags/zookeeper/" style="font-size: 1.15em; color: rgb(196, 32, 104)">zookeeper</a><a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%B8%8E%E9%AB%98%E5%B9%B6%E5%8F%91/" style="font-size: 1.3em; color: rgb(58, 60, 15)">多线程与高并发</a><a href="/tags/%E4%BA%A7%E5%93%81%E5%BC%80%E5%8F%91/" style="font-size: 1.45em; color: rgb(170, 119, 104)">产品开发</a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.3em; color: rgb(154, 59, 9)">算法</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">13</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">12</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">40</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">75.9k</div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-04-20T01:12:33.954Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By gca</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my blog!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">本地搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function subtitleType () {
  fetch('https://v1.hitokoto.cn')
    .then(response => response.json())
    .then(data => {
      if (true) {
        const from = '出自 ' + data.from
        const sub = []
        sub.unshift(data.hitokoto, from)
        window.typed = new Typed('#subtitle', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: true,
          backSpeed: 50,
        })
      } else {
        document.getElementById('subtitle').innerHTML = data.hitokoto
      }
    })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script></div><script src="https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/autoload.js"></script><script src="https://cdn.jsdelivr.net/gh/yremp/yremp-js@1.5/sakura.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>